{"filter":false,"title":"opportunity-timeline.js","tooltip":"/views/opportunity-timeline.js","undoManager":{"mark":11,"position":11,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":19},"end":{"row":5,"column":24}},"text":"_0001"},{"action":"insertText","range":{"start":{"row":5,"column":19},"end":{"row":5,"column":34}},"text":"a0Lb0000006xVBq"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":100,"column":0},"end":{"row":100,"column":9}},"text":"})(VIEW);"},{"action":"removeLines","range":{"start":{"row":51,"column":0},"end":{"row":100,"column":0}},"nl":"\n","lines":["","    $v.HeadlineOpportunityTimeline = function(model) {","    ","        //Private vars","        var _id = '_0001',","            _model = model;","        ","        //Public vars","        var chtTimeline, chtSales, tblOpps;","        ","        //First call of render() sets to true, used to check if view has been initialised","        var rendered = false;","    ","        //Initialise handlebar templates","        var tmplView = Handlebars.compile(templates['headline-opportunities']);","        var tmplFilters = Handlebars.compile(templates['dropdown-filters']);","    ","        //Render function, adds all dom elements and creates charts, tables and filters","        function render() { ","        ","            $j('#test').append(tmplView({'id':_id}));","    ","            chtTimeline = new CHART.OpportunityTimeline(_id + '-charts-opp-timeline', _model.getDataWeeks());","            chtSales = new CHART.OpportunitySales(_id + '-charts-opp-sales', _model.getDataWeeks());","            tblOpps = new TABLE.HeadlineOpportunities(_id + '-tables-opp-list', _model.getData());      ","    ","            renderFilters(_id + '-filters');","            ","            rendered = true;","    ","        }","        ","        //Renders filters, separate to render() so it can be called to refresh filters","        function renderFilters(id) {","    ","            $j('#' + id).empty().append(tmplFilters(model.getFilters())); ","    ","        }","        ","        return { ","            render : render,","            changeModel : function(model) { _.model = model; },","            isRendered : function() { return rendered; }","        };","        ","    };","    ","    return $v;",""]},{"action":"removeText","range":{"start":{"row":50,"column":9},"end":{"row":50,"column":49}},"text":"var VIEW_OPPORTUNITIES = (function($v) {"},{"action":"removeText","range":{"start":{"row":50,"column":9},"end":{"row":51,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":26},"end":{"row":7,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":12}},"text":"            "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":7,"column":8},"end":{"row":7,"column":12}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":0},"end":{"row":13,"column":29}},"text":"        var rendered = false;"},{"action":"removeLines","range":{"start":{"row":12,"column":0},"end":{"row":13,"column":0}},"nl":"\n","lines":["        //First call of render() sets to true, used to check if view has been initialised"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":8},"end":{"row":12,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":11,"column":8},"end":{"row":12,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":28}},"text":"            rendered = true;"},{"action":"removeLines","range":{"start":{"row":26,"column":0},"end":{"row":27,"column":0}},"nl":"\n","lines":["            "]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":26,"column":0},"end":{"row":27,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":39,"column":0},"end":{"row":39,"column":56}},"text":"            isRendered : function() { return rendered; }"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":63},"end":{"row":39,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":62},"end":{"row":38,"column":63}},"text":","}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":20},"end":{"row":2,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1407340530153,"hash":"0e82c38979a7d40d519187cb283fd1ff5d254b8f"}